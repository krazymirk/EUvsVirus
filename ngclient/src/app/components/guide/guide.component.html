<div id="actions-panel">
    <div id="icons">
        <span  class="material-icons icon" id="start-stop-video" (click)="toggleVideo()" title="Turn video off/on">
            {{abilities.video ? 'videocam' : 'videocam_off'}}
        </span>
        <span class="material-icons icon" id="start-stop-audio" (click)="toggleAudio()" title="Turn volume off/on">
            {{abilities.audio ? 'volume_up' : 'volume_off'}}
        </span>
        <span class="material-icons icon" (click)="sendHeading()" title="Focus viewer's heading">
            center_focus_weak
        </span>
    </div>
</div>
<app-chat #chat></app-chat>
<div id="video-container" [hidden]="!this.abilities.video">
    <video #video muted autoplay></video>
</div>

<div class="connectivity-panel">
    <div id="icons">
        <span class="icon" style="cursor: default; font-size: 18px;padding-top: 0;">CONNECTED: {{ countConnected }}</span>
        <span class="material-icons icon" id="publicLink" (click)="togglePublicLink()" title="Get private links">
            lock
        </span>
        <span class="material-icons icon" id="privateLink" (click)="togglePrivateLinks()" title="Get public link">
            language
        </span>
    </div>
</div>

<div id="private-link-container" *ngIf="privateLinksVisible">
    <mat-card>
        <div class="container" fxLayout="column" fxLayout.xs="column" fxLayoutGap="10px" fxLayoutAlign="stretch center">
            <div fxFill>
                <mat-label>Private Links:</mat-label>
            </div>
            <div *ngFor="let linker of privateLinks;let i = index;" fxFill fxLayout="row" fxLayout.xs="row" fxLayoutAlign="center none">
                <mat-form-field appearance="fill" style="height: 100%;" fxFlex>
                    <input #link{{i}} value="{{concatLink(linker)}}" type="text" matInput disabled>
                </mat-form-field>
                <div fxFlex>
                    <button id="button{{i}}" mat-raised-button class="mat-accent mr-16" style="margin-left:1em;height:72%;"
                        (click)="copyLink(concatLink(linker),$event)">Copy
                        Link</button>
                </div>
            </div>
        </div>
    </mat-card>
</div>

<div id="public-link-container" *ngIf="publicLinkVisible">
    <div class="container" fxLayout="column" fxLayout.xs="column" fxLayoutGap="10px" fxLayoutAlign="stretch center">
        <div fxFill>
            <mat-label>Public Link:</mat-label>
        </div>
        <div fxFill>
            <mat-form-field appearance="fill" style="height: 100%;" fxFlex="50%">
                <input value="{{publicLink}}" type="text" matInput disabled>
            </mat-form-field>
            <div fxFlex="50%">
                <button id="publicButton" mat-raised-button class="mat-accent mr-16" style="margin-left:1em;height:72%;"
                    (click)="copyLink(publicLink,$event)">Copy
                    Link</button>
            </div>
        </div>
    </div>
</div>
<div #streetViewContainer id="pano"></div>
<div #mapContainer id="map"></div>